gamma, log
logistic regression example
poisson, negbin


```{r}
library(tidyverse)
```

# GLM with binary response data

The following data are from:
Anderson, S. C., R. G. Farmer, F. Ferretti, A. L. S. Houde, and J. A. Hutchings. 2011. Correlates of Vertebrate Extinction Risk in {Canada}. BioScience 61:538â€“549.

```{r}
d <- read_csv("data/raw/anderson-etal-2011-bioscience.csv") %>%
  rename(status = Status, age_maturity = Age.mat, road_density = Road.med)
d
```

- Each row is a species of terrestrial mammal in Canada. 
- The column status represents whether a species is listed at risk by COSEWIC (extinct, extirpated, endangered, threatened, or of special concern).
- The other 2 columns indicate age at maturity and median road density within their range.

What kind of GLM might be used to model status as a function of age of maturity and road density?

```{r}
m <- glm(status ~ log(age_maturity) + log(road_density), data = d, family =
  binomial(link = "logit")) # exercise
arm::display(m)
b2 <- coef(m)[[3]] %>% round(1)
```

How do we interpret the `log(road_density)` coefficient?

Answer: a unit increase in `log(road_density)`, holding age at maturity constant, corresponds to a 0.9 increase in the log odds of being listed as at risk.

What does that mean? If we exponentiate the slope coefficient we get the expected percent increase in the *odds* of being listed as at risk,`r round(exp(coef(m)[[3]]), 1)` or about a 137% increase in the odds.

This looks like a huge number mostly because the range of log(road density) is actually quite small.

If we want to show that in terms of probability then we need to pick 2 values to compare or plot out the function. The relationship is not linear on the probability scale.

We're going to use the sjPlot package to quickly make these plots. In these plots, the other predictor is set to its mean value.

```{r}
sjPlot::sjp.glm(m, type = "eff", show.ci = TRUE)
```

# GLM with continuous (and positive) response data


